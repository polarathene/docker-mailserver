(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{104:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var o=n(0),r=n.n(o);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},c=Object.keys(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=r.a.createContext({}),d=function(e){var t=r.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=d(e.components);return r.a.createElement(u.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,c=e.originalType,i=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=d(n),b=o,m=p["".concat(i,".").concat(b)]||p[b]||s[b]||c;return n?r.a.createElement(m,a(a({ref:t},u),{},{components:n})):r.a.createElement(m,a({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var c=n.length,i=new Array(c);i[0]=b;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a.mdxType="string"==typeof e?e:o,i[1]=a;for(var u=2;u<c;u++)i[u]=n[u];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},64:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return a})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return d}));var o=n(3),r=n(7),c=(n(0),n(104)),i={id:"override-dovecot",title:"Override the default config of Dovecot"},a={unversionedId:"override-dovecot",id:"override-dovecot",isDocsHomePage:!1,title:"Override the default config of Dovecot",description:"Add configuration",source:"@site/docs/Override-Default-Dovecot-Configuration.md",slug:"/override-dovecot",permalink:"/docker-mailserver/override-dovecot",editUrl:"https://github.com/polarathene/docker-mailserver/tree/docs/docusaurus-demo/website/docs/Override-Default-Dovecot-Configuration.md",version:"current",sidebar:"docs",previous:{title:"Update & Cleanup",permalink:"/docker-mailserver/update-and-cleanup"},next:{title:"Override the default config of Postfix",permalink:"/docker-mailserver/override-postfix"}},l=[],u={toc:l};function d(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(o.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h1",{id:"add-configuration"},"Add configuration"),Object(c.b)("p",null,"The Dovecot default configuration can easily be extended providing a ",Object(c.b)("inlineCode",{parentName:"p"},"config/dovecot.cf")," file.\n",Object(c.b)("a",{parentName:"p",href:"http://wiki.dovecot.org/FrontPage"},"Dovecot documentation")," remains the best place to find configuration options."),Object(c.b)("p",null,"Your ",Object(c.b)("inlineCode",{parentName:"p"},"docker-mailserver")," folder should look like this example:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"\u251c\u2500\u2500 config\n\u2502   \u251c\u2500\u2500 dovecot.cf\n\u2502   \u251c\u2500\u2500 postfix-accounts.cf\n\u2502   \u2514\u2500\u2500 postfix-virtual.cf\n\u251c\u2500\u2500 docker-compose.yml\n\u2514\u2500\u2500 README.md\n")),Object(c.b)("p",null,"One common option to change is the maximum number of connections per user:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"mail_max_userip_connections = 100\n")),Object(c.b)("p",null,"Another important option is the ",Object(c.b)("inlineCode",{parentName:"p"},"default_process_limit")," (defaults to ",Object(c.b)("inlineCode",{parentName:"p"},"100"),"). If high-security mode is enabled you'll need to make sure this count is higher than the maximum number of users that can be logged in simultaneously. This limit is quickly reached if users connect to the mail server with multiple end devices."),Object(c.b)("h1",{id:"override-configuration"},"Override configuration"),Object(c.b)("p",null,"For major configuration changes it\u2019s best to override the ",Object(c.b)("inlineCode",{parentName:"p"},"dovecot")," configuration files. For each configuration file you want to override, add a list entry under the ",Object(c.b)("inlineCode",{parentName:"p"},"volumes:")," key."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-yaml"},"version: '2'\n\nservices:\n  mail:\n  ...\n    volumes:\n      - maildata:/var/mail\n      ...\n      - ./config/dovecot/10-master.conf:/etc/dovecot/conf.d/10-master.conf\n\n")),Object(c.b)("h1",{id:"debugging"},"Debugging"),Object(c.b)("p",null,"To debug your dovecot configuration you can use this command:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-sh"},"./setup.sh debug login doveconf | grep <some-keyword>\n")),Object(c.b)("p",null,Object(c.b)("a",{parentName:"p",href:"https://github.com/tomav/docker-mailserver/blob/master/setup.sh"},"setup.sh")," is included in the ",Object(c.b)("inlineCode",{parentName:"p"},"docker-mailserver")," repository."),Object(c.b)("p",null,"or"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-sh"},"docker exec -ti <your-container-name> doveconf | grep <some-keyword>\n")),Object(c.b)("p",null,"The  ",Object(c.b)("inlineCode",{parentName:"p"},"config/dovecot.cf")," is copied to ",Object(c.b)("inlineCode",{parentName:"p"},"/etc/dovecot/local.conf"),". To check this file run:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-sh"},"docker exec -ti <your-container-name> cat /etc/dovecot/local.conf\n")))}d.isMDXComponent=!0}}]);